<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Controle Financeiro - Cl√≠nica Odontol√≥gica</title>

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <style>
    body {
      background-color: #f5f7fa;
    }
    .titulo {
      font-weight: 600;
      color: #1f3c88;
    }
  </style>
</head>

<body>

  <!-- HEADER -->
  <nav class="navbar navbar-dark bg-primary mb-4">
    <div class="container">
      <span class="navbar-brand h1">ü¶∑ Controle Financeiro</span>
    </div>
  </nav>

  <div class="container">

    <!-- DASHBOARD -->
    <div class="row mb-4">
      <div class="col-md-6">
        <div class="card shadow-sm">
          <div class="card-body">
            <h6 class="titulo">Total recebido</h6>
            <h4 id="totalRecebido" class="text-success">R$ 0,00</h4>
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="card shadow-sm">
          <div class="card-body">
            <h6 class="titulo">Total a receber</h6>
            <h4 id="totalReceber" class="text-danger">R$ 0,00</h4>
          </div>
        </div>
      </div>
    </div>

    <!-- FORMUL√ÅRIO -->
    <div class="card mb-4 shadow-sm">
      <div class="card-body">
        <h5 class="titulo mb-3">Novo registro financeiro</h5>

        <form onsubmit="event.preventDefault(); salvarRegistro();">
          <div class="row g-3">

            <!-- DATA -->
            <div class="col-md-3">
              <label class="form-label">Data</label>
              <input type="date" id="data" class="form-control">
            </div>

            <!-- PACIENTE -->
            <div class="col-md-5">
              <label class="form-label">Paciente</label>
              <input type="text" id="paciente" class="form-control">
            </div>

            <!-- M√âDICO -->
            <div class="col-md-4">
              <label class="form-label">M√©dico</label>
              <div class="input-group">
                <select id="medico" class="form-select"></select>
                <button
                  class="btn btn-outline-primary"
                  type="button"
                  data-bs-toggle="modal"
                  data-bs-target="#modalMedico"
                >+</button>
              </div>
            </div>

            <!-- TRATAMENTO -->
            <div class="col-md-6">
              <label class="form-label">Tratamento</label>
              <div class="input-group">
                <select id="tratamento" class="form-select"></select>
                <button
                  class="btn btn-outline-primary"
                  type="button"
                  data-bs-toggle="modal"
                  data-bs-target="#modalTratamento"
                >+</button>
              </div>
            </div>

            <!-- VALORES -->
            <div class="col-md-3">
              <label class="form-label">Valor do tratamento</label>
              <input type="number" id="valorTotal" class="form-control">
            </div>

            <div class="col-md-3">
              <label class="form-label">Valor pago</label>
              <input type="number" id="valorPago" class="form-control">
            </div>

            <!-- PAGAMENTO -->
            <div class="col-md-4">
              <label class="form-label">Forma de pagamento</label>
              <select id="formaPagamento" class="form-select">
                <option>Dinheiro</option>
                <option>Pix</option>
                <option>Cart√£o</option>
                <option>Plano odontol√≥gico</option>
              </select>
            </div>

            <!-- OBS -->
            <div class="col-md-8">
              <label class="form-label">Observa√ß√£o</label>
              <input
                type="text"
                id="observacao"
                class="form-control"
                placeholder="Ex: entrada + parcelas"
              >
            </div>

          </div>

          <div class="mt-4">
            <button class="btn btn-success">
              üíæ Salvar registro
            </button>

            <button
              type="button"
              class="btn btn-outline-secondary ms-2"
              onclick="exportarCSV()"
            >
              ‚¨á Exportar CSV
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- REGISTROS -->
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="titulo mb-3">Registros do dia</h5>
        <div id="listaHoje"></div>
      </div>
    </div>

  </div>

  <!-- MODAL M√âDICO -->
  <div class="modal fade" id="modalMedico" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Cadastrar m√©dico</h5>
          <button class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <input
            type="text"
            id="novoDentista"
            class="form-control"
            placeholder="Nome do m√©dico"
          >
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button
            class="btn btn-primary"
            onclick="adicionarDentista(); fecharModalMedico();"
          >Salvar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- MODAL TRATAMENTO -->
  <div class="modal fade" id="modalTratamento" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Cadastrar tratamento</h5>
          <button class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <input
            type="text"
            id="novoTratamento"
            class="form-control"
            placeholder="Nome do tratamento"
          >
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button
            class="btn btn-primary"
            onclick="adicionarTratamento(); fecharModalTratamento();"
          >Salvar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- SEU JS -->
  <script src="script.js"></script>

</body>
</html>
